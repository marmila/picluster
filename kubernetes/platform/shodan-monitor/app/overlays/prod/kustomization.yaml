apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

images:
  - name: ghcr.io/marmila/shodan-sec-monitor
    newTag: v1.4.0

generatorOptions:
  disableNameSuffixHash: true

configMapGenerator:
  - name: shodan-config
    behavior: create
    literals:
      - TARGETS_PUBLIC=8.8.8.8,8.8.4.4,1.1.1.1,1.0.0.1,9.9.9.9,149.112.112.112,208.67.222.222,208.67.220.220,8.26.56.26,8.20.247.20
      - TARGETS_CDN=151.101.1.69,151.101.65.69,151.101.129.69,151.101.193.69
      - TARGETS_EDGE=172.64.33.70
      - TARGETS_ROOT=192.0.47.59,199.7.83.42
      - TARGETS_OWNED=93.40.1.188

      # Timing
      - INTERVAL_SECONDS=21600
      - REQUEST_DELAY=1.5

      # New settings for refactored version
      - SCAN_TIMEOUT_MINUTES=30
      - ENABLE_CLEANUP=true
      - LOG_LEVEL=INFO

      # Optional: Enable advanced features
      - ENABLE_ADVANCED_RISK_SCORING=true
      - CUSTOM_RISK_RULES={"critical_ports":[8443,9443]}




