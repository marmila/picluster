apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

images:
  - name: ghcr.io/marmila/shodan-sec-monitor
    newTag: 1.4.0

generatorOptions:
  disableNameSuffixHash: true

configMapGenerator:
  - name: shodan-config
    behavior: create
    literals:
      - TARGETS_OWNED=93.40.1.188,89.168.19.79
      - TARGETS_RESEARCH_BASIC=45.33.32.156,159.89.214.31,165.227.83.145
      - TARGETS_VENDOR_DEMO=34.117.59.81,52.58.78.16,18.184.24.171
      - TARGETS_LABS=51.158.75.190,104.248.169.239

      # Timing
      - INTERVAL_SECONDS=21600
      - REQUEST_DELAY=1.5

      # New settings for refactored version
      - SCAN_TIMEOUT_MINUTES=30
      - ENABLE_CLEANUP=true
      - LOG_LEVEL=INFO

      # Optional: Enable advanced features
      - ENABLE_ADVANCED_RISK_SCORING=true
      - CUSTOM_RISK_RULES={"critical_ports":[8443,9443]}




