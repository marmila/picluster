---
layout: default
title: Homelab automated with Ansible and ArgoCD
description: "This is an educational project to build a hybrid x86/ARM Kubernetes cluster, using Raspberry Pi and refurbished mini PCs, and to automate its deployment and configuration applying IaC (infrastructure as a code) and GitOps methodologies with tools like Ansible and Argo CD.
How to automatically configure the cluster nodes and deploy K3s kubernetes cluster, Longhorn as distributed block storage for PODs' persistent volumes, Prometheus as monitoring solution, EFK stack as centralized log management solution, Velero and Restic as backup solution and Linkerd as service mesh architecture."
last_modified_at: "09-06-2023"
---

<div class="header-container p-5 mb-4 rounded-3">
    <div class="container-fluid py-5">
        <h1>Pi Kubernetes Cluster Project Website</h1>
        <p>K3S Kubernetes cluster using bare metal nodes automated with Ansible and ArgoCD.</p>
        <p>
            <a class="btn btn-primary btn-lg" href="{{ "/docs/home/" | relative_url }}" type="button">Documentation</a>
            <a class="btn btn-primary btn-lg" href="{{ site.git_address | relative_url }}" type="button">Get Code <i class="fab fa-github"></i> </a>
        </p>
    </div>
</div>

<div class="container">
    <div class="row">
        <h4 class="header-light">Project Goals & Scope</h4>
        <div class="col-md-6">
              <p class="lead">
              This is an educational project to build a hybrid x86/ARM Kubernetes cluster at home, using Raspberry Pi and refurbished x86 mini PCs, learn to deploy basic kubernetes services and automate its deployment and configuration applying <b>IaC (infrastructure as a code)</b> and <b>GitOps</b>
              methodologies with tools like <a href="https://docs.ansible.com/">Ansible</a> and <a href="https://argo-cd.readthedocs.io/en/stable/">Argo CD</a>. <br>
              The entire process for creating this cluster at home, from cluster design and architecture to step-by-step manual configuration guides, has been documented.
              You can find all this information in the <a href="{{ "/docs/home/" | relative_url }}">docs section</a>, so you can build your own home cluster.
              <br>Automation code (Ansible source code) and packaged Kubernetes applications (that can be deployed using ArgoCD) are also at your disposal in the <a href="{{ site.git_address | relative_url }}">project's git repository</a>.
              </p>    
        </div>
        <div class="col-md-6 text-center">
            <img src="{{ "/assets/img/pi-cluster-icons.png" | relative_url }}" alt="PiCluster logos" class="img-fluid">
        </div>
    </div>
    <div class="row">
        <p class="lead">
            The project scope includes the automation of the deployment and configuration of a <b>lightweight Kubernetes</b> flavor, <a href="https://k3s.io/">K3S</a>,
            and basic cluster services such as: 1) <b>distributed block storage</b> for PODs' persistent volumes, 
            <a href="https://longhorn.io/">Longhorn</a>, 2) <b>backup/restore solution</b>, <a href="https://velero.io/">Velero</a> and <a href="https://restic.net/">Restic</a>, 3) <b>service mesh architecture</b>, <a href="https://linkerd.io/">Linkerd</a>, and 4) <b>observability platform</b> based on <b>metrics monitoring solution</b>, <a href="https://prometheus.io/">Prometheus</a>, <b>logging and analytics solution</b>, EFá¸°+LG stack (<a href="https://www.elastic.co/elasticsearch/">Elasticsearch</a>-<a href="https://fluentbit.io/">Fluentbit</a>-<a href="https://www.elastic.co/kibana/">Kibana</a> + <a href="https://grafana.com/oss/loki/">Loki</a>-<a href="https://grafana.com/oss/grafana/">Grafana</a>), and <b>distributed tracing solution</b>, <a href="https://grafana.com/oss/tempo/">Tempo</a>.
        </p>
    </div>
    <hr>
    <div class="row">
        <div class="col-sm-4">
            <h2 class="text-center"><i class="fas fa-graduation-cap" aria-hidden="true"></i></h2>
            <h5 class="text-center">Perfect for educational purpuses</h5>
            <p>Ideal to know the state of the art of hybrid ARM-x86 Kubernetes clusters and to play with different
            cluster services and applications using low-performance bare metal servers instead of virtual machines.</p>
        </div>
        <div class="col-sm-4">
            <h2 class="text-center"><i class="fas fa-dollar-sign" aria-hidden="true"></i></h2>
            <h5 class="text-center">Low cost Kubernetes cluster</h5>
            <p>All it is needed is a bunch of Raspberry PIs, (4 Model-B with 4GB) USB sticks, a power hub, and a Ethernet Switch. <br> Anyway you can drive yourself mad, like I did, and buy more staff like dedicated SSDs disks to improve cluster performance. Or scale it up adding more powerfull x86 mini PCs</p>
        </div>
        <div class="col-sm-4">
            <h2 class="text-center"><i class="fas fa-cogs" aria-hidden="true"></i></h2>
            <h5 class="text-center">Automatically rebuild the cluster</h5>
            <p>You can break the cluster configuration as many times as you need during your testing/learning process and be able to rebuild the cluster in minutes.
            All installation/configuration activities are automated with Ansible/Argo CD. 
            It also makes easy to re-configure cluster nodes in case of hardware failure</p>
        </div>
        
    </div>
</div>
